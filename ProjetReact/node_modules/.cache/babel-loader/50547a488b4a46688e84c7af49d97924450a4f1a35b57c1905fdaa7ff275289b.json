{"ast":null,"code":"var _jsxFileName = \"C:\\\\Cours\\\\Rapport\\\\Janvier\\\\Code\\\\appmanga\\\\ProjetReact\\\\src\\\\Filtre\\\\Filtre.js\",\n  _s = $RefreshSig$();\nimport { myAppContext } from '../store/appContext';\nimport React, { useEffect, useReducer, useContext } from 'react';\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Filtre() {\n  _s();\n  const context = useContext(myAppContext);\n  const myReducerFiltreActive = (state, action) => {\n    switch (action.type) {\n      case 'filtre':\n        if (action.payload === 1) {\n          return {\n            nom: true,\n            edition: false\n          };\n        } else {\n          return {\n            nom: false,\n            edition: true\n          };\n        }\n      default:\n        return state;\n    }\n  };\n  const [filtreActive, setFiltreActive] = useReducer(myReducerFiltreActive, {\n    nom: true,\n    edition: false\n  });\n  const FilterBooks = event => {\n    if (event.target.value === \"\") {\n      context.setTableauCollection({\n        type: \"all\",\n        payload: context.tableauCollection.collection\n      });\n    } else {\n      if (filtreActive.nom === true) {\n        const resultsName = context.tableauCollection.collection.filter(book => {\n          const bk = book.nom.toLowerCase();\n          return bk.startsWith(event.target.value.toLowerCase());\n        });\n        const val = context.tableauCollection.collection;\n        context.setTableauCollection({\n          type: \"filtrerNameEdition\",\n          payload: {\n            first: resultsName,\n            seconde: val\n          }\n        });\n      } else {\n        const resultsEdition = context.tableauCollection.collection.filter(book => {\n          const bk = book.edition.toLowerCase();\n          return bk.startsWith(event.target.value.toLowerCase());\n        });\n        const val = context.tableauCollection.collection;\n        context.setTableauCollection({\n          type: \"filtrerNameEdition\",\n          payload: {\n            first: resultsEdition,\n            seconde: val\n          }\n        });\n      }\n    }\n  };\n  const changeFilter = val => {\n    setFiltreActive({\n      type: \"filtre\",\n      payload: val\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Filter\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"Rechercher dans sa collection\",\n        onChange: FilterBooks\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"filtre\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          onClick: () => changeFilter(1),\n          className: filtreActive.nom ? 'actif' : undefined,\n          children: \"Nom\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          onClick: () => changeFilter(2),\n          className: filtreActive.edition ? 'actif' : undefined,\n          children: \"Edition\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n}\n_s(Filtre, \"m63v5SIbS8HJzUl/hn7OhGmRU/M=\");\n_c = Filtre;\nexport default Filtre;\nvar _c;\n$RefreshReg$(_c, \"Filtre\");","map":{"version":3,"names":["myAppContext","React","useEffect","useReducer","useContext","Filtre","context","myReducerFiltreActive","state","action","type","payload","nom","edition","filtreActive","setFiltreActive","FilterBooks","event","target","value","setTableauCollection","tableauCollection","collection","resultsName","filter","book","bk","toLowerCase","startsWith","val","first","seconde","resultsEdition","changeFilter","undefined"],"sources":["C:/Cours/Rapport/Janvier/Code/appmanga/ProjetReact/src/Filtre/Filtre.js"],"sourcesContent":["\r\nimport { myAppContext } from '../store/appContext';\r\nimport React, { useEffect, useReducer, useContext } from 'react';\r\n\r\nfunction Filtre() {\r\n    const context = useContext(myAppContext)\r\n\r\n    const myReducerFiltreActive = (state, action) => {\r\n        switch (action.type) {\r\n          case 'filtre':\r\n            if (action.payload === 1) {\r\n              return { nom: true, edition: false }\r\n            }\r\n            else {\r\n              return { nom: false, edition: true }\r\n            }\r\n    \r\n    \r\n          default:\r\n            return state\r\n        }\r\n      }\r\n    \r\n      const [filtreActive, setFiltreActive] = useReducer(myReducerFiltreActive, { nom: true, edition: false })\r\n    \r\n    \r\n\r\n    const FilterBooks = (event) => {\r\n\r\n        if (event.target.value === \"\") {\r\n          context.setTableauCollection({ type: \"all\", payload: context.tableauCollection.collection });\r\n        }\r\n        else {\r\n          if (filtreActive.nom === true) {\r\n            const resultsName = context.tableauCollection.collection.filter(book => {\r\n              const bk = book.nom.toLowerCase();\r\n              return bk.startsWith(event.target.value.toLowerCase());\r\n            })\r\n            const val = context.tableauCollection.collection\r\n            context.setTableauCollection({ type: \"filtrerNameEdition\", payload: { first: resultsName, seconde: val } });\r\n          }\r\n          else {\r\n            const resultsEdition = context.tableauCollection.collection.filter(book => {\r\n              const bk = book.edition.toLowerCase();\r\n              return bk.startsWith(event.target.value.toLowerCase());\r\n            })\r\n            const val = context.tableauCollection.collection\r\n            context.setTableauCollection({ type: \"filtrerNameEdition\", payload: { first: resultsEdition, seconde: val } });\r\n          }\r\n        }\r\n      }\r\n    \r\n      const changeFilter = (val) => {\r\n        setFiltreActive({ type: \"filtre\", payload: val })\r\n      }\r\n\r\n\r\n    return (\r\n        <>\r\n            <div className='Filter'>\r\n                <input placeholder=\"Rechercher dans sa collection\" onChange={FilterBooks} />\r\n                <div className='filtre'>\r\n                    <div onClick={() => changeFilter(1)} className={filtreActive.nom ? 'actif' : undefined}>Nom</div>\r\n                    <div onClick={() => changeFilter(2)} className={filtreActive.edition ? 'actif' : undefined}>Edition</div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Filtre;\r\n"],"mappings":";;AACA,SAASA,YAAY,QAAQ,qBAAqB;AAClD,OAAOC,KAAK,IAAIC,SAAS,EAAEC,UAAU,EAAEC,UAAU,QAAQ,OAAO;AAAC;AAAA;AAEjE,SAASC,MAAM,GAAG;EAAA;EACd,MAAMC,OAAO,GAAGF,UAAU,CAACJ,YAAY,CAAC;EAExC,MAAMO,qBAAqB,GAAG,CAACC,KAAK,EAAEC,MAAM,KAAK;IAC7C,QAAQA,MAAM,CAACC,IAAI;MACjB,KAAK,QAAQ;QACX,IAAID,MAAM,CAACE,OAAO,KAAK,CAAC,EAAE;UACxB,OAAO;YAAEC,GAAG,EAAE,IAAI;YAAEC,OAAO,EAAE;UAAM,CAAC;QACtC,CAAC,MACI;UACH,OAAO;YAAED,GAAG,EAAE,KAAK;YAAEC,OAAO,EAAE;UAAK,CAAC;QACtC;MAGF;QACE,OAAOL,KAAK;IAAA;EAElB,CAAC;EAED,MAAM,CAACM,YAAY,EAAEC,eAAe,CAAC,GAAGZ,UAAU,CAACI,qBAAqB,EAAE;IAAEK,GAAG,EAAE,IAAI;IAAEC,OAAO,EAAE;EAAM,CAAC,CAAC;EAI1G,MAAMG,WAAW,GAAIC,KAAK,IAAK;IAE3B,IAAIA,KAAK,CAACC,MAAM,CAACC,KAAK,KAAK,EAAE,EAAE;MAC7Bb,OAAO,CAACc,oBAAoB,CAAC;QAAEV,IAAI,EAAE,KAAK;QAAEC,OAAO,EAAEL,OAAO,CAACe,iBAAiB,CAACC;MAAW,CAAC,CAAC;IAC9F,CAAC,MACI;MACH,IAAIR,YAAY,CAACF,GAAG,KAAK,IAAI,EAAE;QAC7B,MAAMW,WAAW,GAAGjB,OAAO,CAACe,iBAAiB,CAACC,UAAU,CAACE,MAAM,CAACC,IAAI,IAAI;UACtE,MAAMC,EAAE,GAAGD,IAAI,CAACb,GAAG,CAACe,WAAW,EAAE;UACjC,OAAOD,EAAE,CAACE,UAAU,CAACX,KAAK,CAACC,MAAM,CAACC,KAAK,CAACQ,WAAW,EAAE,CAAC;QACxD,CAAC,CAAC;QACF,MAAME,GAAG,GAAGvB,OAAO,CAACe,iBAAiB,CAACC,UAAU;QAChDhB,OAAO,CAACc,oBAAoB,CAAC;UAAEV,IAAI,EAAE,oBAAoB;UAAEC,OAAO,EAAE;YAAEmB,KAAK,EAAEP,WAAW;YAAEQ,OAAO,EAAEF;UAAI;QAAE,CAAC,CAAC;MAC7G,CAAC,MACI;QACH,MAAMG,cAAc,GAAG1B,OAAO,CAACe,iBAAiB,CAACC,UAAU,CAACE,MAAM,CAACC,IAAI,IAAI;UACzE,MAAMC,EAAE,GAAGD,IAAI,CAACZ,OAAO,CAACc,WAAW,EAAE;UACrC,OAAOD,EAAE,CAACE,UAAU,CAACX,KAAK,CAACC,MAAM,CAACC,KAAK,CAACQ,WAAW,EAAE,CAAC;QACxD,CAAC,CAAC;QACF,MAAME,GAAG,GAAGvB,OAAO,CAACe,iBAAiB,CAACC,UAAU;QAChDhB,OAAO,CAACc,oBAAoB,CAAC;UAAEV,IAAI,EAAE,oBAAoB;UAAEC,OAAO,EAAE;YAAEmB,KAAK,EAAEE,cAAc;YAAED,OAAO,EAAEF;UAAI;QAAE,CAAC,CAAC;MAChH;IACF;EACF,CAAC;EAED,MAAMI,YAAY,GAAIJ,GAAG,IAAK;IAC5Bd,eAAe,CAAC;MAAEL,IAAI,EAAE,QAAQ;MAAEC,OAAO,EAAEkB;IAAI,CAAC,CAAC;EACnD,CAAC;EAGH,oBACI;IAAA,uBACI;MAAK,SAAS,EAAC,QAAQ;MAAA,wBACnB;QAAO,WAAW,EAAC,+BAA+B;QAAC,QAAQ,EAAEb;MAAY;QAAA;QAAA;QAAA;MAAA,QAAG,eAC5E;QAAK,SAAS,EAAC,QAAQ;QAAA,wBACnB;UAAK,OAAO,EAAE,MAAMiB,YAAY,CAAC,CAAC,CAAE;UAAC,SAAS,EAAEnB,YAAY,CAACF,GAAG,GAAG,OAAO,GAAGsB,SAAU;UAAA,UAAC;QAAG;UAAA;UAAA;UAAA;QAAA,QAAM,eACjG;UAAK,OAAO,EAAE,MAAMD,YAAY,CAAC,CAAC,CAAE;UAAC,SAAS,EAAEnB,YAAY,CAACD,OAAO,GAAG,OAAO,GAAGqB,SAAU;UAAA,UAAC;QAAO;UAAA;UAAA;UAAA;QAAA,QAAM;MAAA;QAAA;QAAA;QAAA;MAAA,QACvG;IAAA;MAAA;MAAA;MAAA;IAAA;EACJ,iBACP;AAEX;AAAC,GAhEQ7B,MAAM;AAAA,KAANA,MAAM;AAkEf,eAAeA,MAAM;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}